<form [formGroup]="PrlnService.form">
  <table class="table table-striped table-bordered w-100">
      <thead style="text-align: center;">
          <th *ngIf="false">prno</th>
          <th >No</th>
          <th>Descliption</th>
          <th >Price</th>
          <th>Qty</th>
          <th>Unit</th>
          <th>Amount</th>
          <th>Req date</th>
          <th>Over 1 Year</th>
          <th>Credit Tem Code </th>
          <th>Acc Code </th>
          <th>Sub Acc Code </th>
          <th>Action </th>
      </thead>
      <tbody formArrayName="prdetail" name="prdetail" >
          <tr *ngFor="let newPR of this.PrlnService.prdetail.controls; let i = index " [formGroupName]="i">
              <td *ngIf="false">
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>prno </mat-label>
                      <input matInput type="text" formControlName="prno">
                  </mat-form-field>
              </td>
              <td style="text-align: center;">
                  <p style="margin-top: 20px;">{{i+1}}</p>
              </td>
              <td>
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>descliption</mat-label>
                      <input matInput type="text" formControlName="des">
                  </mat-form-field>

              </td>
              <td >
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>price</mat-label>
                      <input matInput type="number" name="price" formControlName="price"
                          (change)="this.PrlnService.onControlChange($event, i)">
                  </mat-form-field>
              </td>
              <td>
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>qty</mat-label>
                      <input matInput type="number" name="qty" formControlName="qty"
                          (change)="this.PrlnService.onControlChange($event, i)">
                  </mat-form-field>
              </td>
              <td>
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>unit</mat-label>
                      <input matInput type="text" formControlName="unit">
                  </mat-form-field>
              </td>
              <td >
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>amount</mat-label>
                      <input matInput type="text" name="amount" formControlName="amount" readonly
                          (change)="this.PrlnService.onControlChange($event, i)">
                  </mat-form-field>
              </td>
              <td>
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>Req date dd/MM/yyyy</mat-label>
                      <input matInput name="reqdate" formControlName="reqdate" type="text" required>
                  </mat-form-field>
              </td>
              <td>
                  <section class="example-section mt-3">
                      <mat-checkbox class="example-margin">Checked</mat-checkbox>
                  </section>
              </td>
              <td >
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>Credit Tem Code</mat-label>
                      <input matInput type="text" name="creditTC" formControlName="creditTC"
                          (change)="this.PrlnService.onControlChange($event, i)">
                  </mat-form-field>
              </td>
              <td >
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>Sub Acc Code</mat-label>
                      <input matInput type="text" name="acccode" formControlName="acccode"
                          (change)="this.PrlnService.onControlChange($event, i)">
                  </mat-form-field>
              </td>
              <td >
                  <mat-form-field class="w-100" appearance="outline">
                      <mat-label>Credit Tem Code</mat-label>
                      <input matInput type="text" name="subacccode" formControlName="subacccode"
                          (change)="this.PrlnService.onControlChange($event, i)">
                  </mat-form-field>
              </td>
              <td>
                  <button class=" w-100  mt-3 mb-2 justify-content-center" mat-raised-button color="primary"
                      type="button" (click)="this.PrlnService.remove_Pr_n(i)">
                      Remove
                  </button>
              </td>
          </tr>

      </tbody>
  </table>
  <div class="row">
      <div class="d-flex justify-content-center">
          <button color="primary" mat-raised-button type="button" (click)="this.PrlnService.addPr_n()">
              <mat-icon>add</mat-icon>
              Add
          </button>
      </div>
  </div>
</form>